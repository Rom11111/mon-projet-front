<div class="login-box">
    <div class="logo-container">
        <img src="../../../../assets/images/altaTech.svg" alt="Logo de l'entreprise" class="login-logo">
    </div>

    <p>Inscription</p>

    <form [formGroup]="form" (ngSubmit)="onSignup()" autocomplete="off">
        <div class="user-box">
            <input formControlName="firstName"
                   required
                   type="text"
                   autocomplete="off">
            <label>Prénom</label>
            @if (form.get('firstName')?.hasError('required') && form.get('firstName')?.touched) {
                <span class="error-text">Le prénom est requis</span>
            }
        </div>

        <div class="user-box">
            <input formControlName="lastName"
                   required
                   type="text"
                   autocomplete="off">
            <label>Nom</label>
            @if (form.get('lastName')?.hasError('required') && form.get('lastName')?.touched) {
                <span class="error-text">Le nom est requis</span>
            }
        </div>

        <div class="user-box">
            <input formControlName="email"
                   required
                   type="email"
                   autocomplete="off">
            <label>Email</label>
            @if (form.get('email')?.hasError('required') && form.get('email')?.touched) {
                <span class="error-text">L'email est requis</span>
            } @else if (form.get('email')?.hasError('email')) {
                <span class="error-text">Format d'email invalide</span>
            }
        </div>

        <div class="user-box">
            <input type="password"
                   formControlName="password"
                   required
                   autocomplete="new-password">
            <label>Mot de passe</label>
            @if (form.get('password')?.hasError('required') && form.get('password')?.touched) {
                <span class="error-text">Le mot de passe est requis</span>
            } @else if (form.get('password')?.hasError('minlength')) {
                <span class="error-text">Minimum 8 caractères</span>
            }
        </div>

        <div class="user-box">
            <input type="password"
                   formControlName="confirmPassword"
                   required
                   autocomplete="new-password">
            <label>Confirmer le mot de passe</label>
            @if (form.get('confirmPassword')?.hasError('required') && form.get('confirmPassword')?.touched) {
                <span class="error-text">La confirmation est requise</span>
            } @else if (form.hasError('mismatch')) {
                <span class="error-text">Les mots de passe ne correspondent pas</span>
            }
        </div>

        <button type="submit" [disabled]="form.invalid">
            S'inscrire
        </button>
    </form>

    <p class="signup-link">Déjà un compte ? <a routerLink="/login" class="a2">Se connecter</a></p>
</div>
