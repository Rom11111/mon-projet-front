<div class="search-filters">
    <!-- Champ de recherche -->
    <mat-form-field appearance="fill" class="search-field">
        <mat-label>Rechercher un client</mat-label>
        <input matInput [(ngModel)]="search" placeholder="Rechercher par nom">
    </mat-form-field>

    <!-- Sélecteur de filtre par rôle -->
    <mat-form-field appearance="fill" class="filter-field">
        <mat-label>Filtrer par rôle</mat-label>
        <mat-select [(ngModel)]="roleFilter">
            <mat-option value="">Tous les rôles</mat-option>
            <mat-option value="ADMIN">Administrateur</mat-option>
            <mat-option value="TECH">Technicien</mat-option>
            <mat-option value="CLIENT">Client</mat-option>
        </mat-select>
    </mat-form-field>

    <!-- Sélecteur de tri -->
    <mat-form-field appearance="fill" class="sort-field">
        <mat-label>Trier par</mat-label>
        <mat-select [(ngModel)]="sortOrder">
            <mat-option value="asc">Ordre alphabétique (A-Z)</mat-option>
            <mat-option value="desc">Ordre alphabétique (Z-A)</mat-option>
        </mat-select>
    </mat-form-field>
</div>

<!-- Liste des clients -->
<div class="client-list">
    <mat-card *ngFor="let client of filteredAndSortedClients" class="client-card">
        <mat-card-header>
            <img mat-card-avatar [src]="client.photoUrl" alt="Avatar" class="avatar">
            <mat-card-title>{{ client.firstname }} {{ client.lastname }}</mat-card-title>
            <mat-card-subtitle>{{ client.role }}</mat-card-subtitle>
        </mat-card-header>
        <mat-card-content>
            <div class="client-info">
                <p><strong>Email:</strong> {{ client.email }}</p>
                <p><strong>Adresse:</strong> {{ client.address }}</p>
            </div>
        </mat-card-content>
        <mat-card-actions>
            <button mat-button (click)="selectClient(client)">Voir détails</button>
        </mat-card-actions>
    </mat-card>
</div>
